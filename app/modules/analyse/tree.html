<div class="tree" ng-init="treeLi2=true"><ul><li><div ng-right-click="divShow=true;$event.stopPropagation();" ng-mouseleave="divShow=false"><img src="/app/img/san.png?rev=f25f289765" ng-click="treeLi2=!treeLi2" ng-class="{imgClick:treeLi2}"> <input type="checkbox" name="all" value="all" checked="checked" class="treeInputAll" ng-disabled="$ctrl.treeInput2Checked" ng-click="$ctrl.treeInputDisabled('treeInputAll'); $ctrl.checkedPush('treeInputAll')"> <span>全部</span><div ng-show="divShow"><p ng-click="$ctrl.clickAdd('');$ctrl.sensorData()"><i class="glyphicon glyphicon-plus"></i> <span>添加节点</span></p><p ng-click="$ctrl.clickBinding('')"><i class="glyphicon glyphicon-trash"></i> <span>绑定仪表</span></p></div></div><ul ng-show="treeLi2" class="chailUl"><li ng-repeat="item in $ctrl.data"><div ng-mouseleave="childDivShow2=false" ng-right-click="childDivShow2=true;$event.stopPropagation();"><img src="/app/img/san.png?rev=f25f289765" ng-click="treeLi3=!treeLi3" ng-class="{imgClick:treeLi3}"> <input type="checkbox" name="treeInput2" value="{{item.id}}" class="treeInput2" ng-disabled="$ctrl.treeInput3Checked" ng-click="$ctrl.treeInputDisabled('treeInput2');$ctrl.checkedPush('treeInput2')"> <span>{{item.title}}</span><div ng-show="childDivShow2" class="operation"><p ng-click="$ctrl.clickUpData(item);$ctrl.sensorData()"><i class="glyphicon glyphicon-pencil"></i> <span>修改节点</span></p><p ng-click="$ctrl.clickAdd(item);$ctrl.sensorData()"><i class="glyphicon glyphicon-plus"></i> <span>添加节点</span></p><p ng-click="$ctrl.clickRemove(item)"><i class="glyphicon glyphicon-trash"></i> <span>删除节点</span></p><p ng-click="$ctrl.clickBinding(item)"><i class="glyphicon glyphicon-trash"></i> <span>绑定仪表</span></p></div></div><ul ng-show="treeLi3" class="chailUl"><li ng-repeat="itemChild in item.child"><div ng-mouseleave="childDivShow3=false" ng-right-click="childDivShow3=true;$event.stopPropagation();"><img src="/app/img/san.png?rev=f25f289765" ng-click="treeLi4=!treeLi4" ng-class="{imgClick:treeLi4}"> <input type="checkbox" name="treeInput3" value="{{itemChild.id}}" class="treeInput3" ng-disabled="$ctrl.treeInput4Checked" ng-click="$ctrl.treeInputDisabled('treeInput3');$ctrl.checkedPush('treeInput3')"> <span>{{itemChild.title}}</span><div ng-show="childDivShow3" class="operation"><p ng-click="$ctrl.clickUpData(itemChild);$ctrl.sensorData()"><i class="glyphicon glyphicon-pencil"></i> <span>修改节点</span></p><p ng-click="$ctrl.clickAdd(itemChild);$ctrl.sensorData()"><i class="glyphicon glyphicon-plus"></i> <span>添加节点</span></p><p ng-click="$ctrl.clickRemove(itemChild)"><i class="glyphicon glyphicon-trash"></i> <span>删除节点</span></p><p ng-click="$ctrl.clickBinding(itemChild)"><i class="glyphicon glyphicon-trash"></i> <span>绑定仪表</span></p></div></div><ul ng-show="treeLi4" class="chailUl"><li ng-repeat="itemChild2 in itemChild.child"><div ng-mouseleave="childDivShow4=false" ng-right-click="childDivShow4=true;$event.stopPropagation();"><input type="checkbox" name="treeInput4" value="{itemChild2.id}" class="treeInput4" ng-click="$ctrl.treeInputDisabled('treeInput4');$ctrl.checkedPush('treeInput4')"> <span>{{itemChild2.title}}</span><div ng-show="childDivShow4" class="operation"><p ng-click="$ctrl.clickUpData(itemChild2);$ctrl.sensorData()"><i class="glyphicon glyphicon-pencil"></i> <span>修改节点</span></p><p ng-click="$ctrl.clickRemove(itemChild2)"><i class="glyphicon glyphicon-trash"></i> <span>删除节点</span></p><p ng-click="$ctrl.clickBinding(itemChild2)"><i class="glyphicon glyphicon-trash"></i> <span>绑定仪表</span></p></div></div></li></ul></li></ul></li></ul></li></ul><div class="modal fade" tabindex="-1" role="dialog" id="addModal"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">添加子节点</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">当前节点</label><div class="col-sm-10"><span type="text" class="form-control">{{$ctrl.treeAddName}}</span></div></div><div class="form-group"><label class="col-sm-2 control-label">子节点标题</label><div class="col-sm-10"><input type="text" class="form-control" ng-model="$ctrl.treeAddEacTit"></div></div></form></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$ctrl.addEca()">确认</button> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="upDataModal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">修改节点</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">当前标题</label><div class="col-sm-10"><span class="form-control">{{$ctrl.treeUpDataEacOldTit}}</span></div></div><div class="form-group"><label class="col-sm-2 control-label">修改标题</label><div class="col-sm-10"><input type="text" class="form-control" ng-model="$ctrl.treeUpDataEacTit"></div></div></form></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$ctrl.upDataEca()">确认</button> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="removeModal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">删除节点</h4></div><div class="modal-body">是否确认删除节点(该操作会删除该节点的所有子节点)</div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$ctrl.removeEca()">确认</button> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button></div></div></div></div></div><sensor parent="$ctrl.treeSensor" tree-data-from="treeData"></sensor>