angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=2c7b59625d",controller:["$rootScope","$scope","$state","$interval","$api",function(o,e,i,u,t){console.log(o);var l=this,n=function(){t.weather.recent({projectid:o.Project.current._id},function(e){e=e.result;o.weather=l.weather=e.weather,o.humidity=l.humidity=e.humidity,o.temperature=l.temperature=e.temperature,o.wind_direction=l.wind_direction=e.wind_direction,o.wind_power=l.wind_power=e.wind_power,o.aqi=l.aqi=e.aqi,o.pm25=l.pm25=e.pm25})},c=u(function(){n()},36e5);console.log(i.current.url),"/system"==i.current.url?(o.shownav=l.shownav=!1,l.dashboard=!0):"/chosen"==i.current.url?o.shownav=l.shownav=!1:"/main"==i.current.url?(l.main=!0,o.shownav=l.shownav=!1,l.dashboard=!0):(l.main=!1,o.shownav=l.shownav=!0,l.dashboard=!1),n(),l.menuData=o.menuData,l.more=[{key:"ALL",title:" 全部"},{key:"HOTWATERMETER",title:"电"},{key:"TEMPERATURECONTROL",title:"水"},{key:"TTYPETEMPCONTROL",title:"冷热量"},{key:"DDWATERMETER",title:"费用"}],l.analyseTime=[{title:"今日",key:"today"},{title:"本月",key:"month"},{title:"本年",key:"year"}],l.dblclick=function(){o.shownav=l.shownav=!l.shownav,function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(void 0!==t&&t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!=n&&n.SendKeys("{F11}")}}()},l.energytype=l.more[0].title,l.chooseenergytype=function(e){l.energytype=e.title},l.menuData.active=i.current.name,l.analyse="/analyse"==i.current.url||"/else{datatype}"==i.current.url,l.map="/buildingmap"==i.current.url,l.statistic="/statistic/:tab"==i.current.url,l.logout=function(){User.$logout({redirect:"/"}).then(function(){i.go("login")})},document.title="能耗分析系统-"+o.Project.current.title,l.title=o.Project.current.title+"能耗监测管理平台",o.type=l.type="usage",l.fulltype=function(){"usage"==l.type?o.type=l.type="cost":o.type=l.type="usage"},e.$on("$stateChangeSuccess",function(e,t,n,a,r){l.menuData.active=t.name,l.map="/buildingmap"==i.current.url,"/system"==i.current.url?(o.shownav=l.shownav=!1,l.dashboard=!0):"/chosen"==i.current.url?(o.shownav=l.shownav=!1,l.dashboard=!0):"/main"==i.current.url?(l.main=!0,o.shownav=l.shownav=!1,l.dashboard=!0):(l.main=!1,o.shownav=l.shownav=!0,l.dashboard=!1),l.analyse="/analyse"==i.current.url||"/else{datatype}"==i.current.url,l.statistic="/statistic/:tab"==i.current.url,!l.dashboard&&(c&&u.cancel(c)||c())})}]});